<!DOCTYPE html>
<html>

<head>
    <%- include('../layouts/header.ejs')%>
</head>


<body>


    <div class=" container-fluid my-5 ">
        <div class="row justify-content-center ">
            <div class="col-xl-10">
                <div class="card shadow-lg ">
                    <div class="row p-2 mt-3 justify-content-between mx-sm-2">
                        <div class="col">
                            <p class="text-muted space mb-0 shop"> Shop No.1777</p>

                        </div>
                        <div class="col">
                            <div class="row justify-content-start ">
                                <div class="col">
                                    <h1> FSGB Boutique</h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto"> <img class="irc_mi img-fluid bell" src="https://i.imgur.com/uSHMClk.jpg"
                                width="30" height="30"> </div>
                    </div>
                    <div class="row mx-auto justify-content-center text-center">
                        <div class="col-12 mt-3 ">
                            <nav aria-label="breadcrumb" class="second ">
                                <ol class="breadcrumb indigo lighten-6 first ">
                                    <li class="breadcrumb-item font-weight-bold "><a class="black-text text-uppercase "
                                            href="/"><span class="mr-md-3 mr-1">BACK TO SHOP</span></a>
                                            
                                           </li>
                                    <li class="breadcrumb-item font-weight-bold"><a class="black-text text-uppercase"
                                            href="/user/cart"><span class="mr-md-3 mr-1">SHOPPING BAG</span></a>
                                    </li>
                                    <!-- <li class="breadcrumb-item font-weight-bold"><a
                                            class="black-text text-uppercase active-2" href="#"><span
                                                class="mr-md-3 mr-1">CHECKOUT</span></a></li> -->
                                </ol>
                            </nav>
                        </div>
                    </div>
                    <div class="row justify-content-around">
                        <div class="col-md-5">
                            <div class="card border-0">
                                <div class="card-header pb-0">
                                    <h2 class="card-title space ">Checkout</h2>
                                    <p class="card-text text-muted mt-4 space">SHIPPING DETAILS</p>
                                    <hr class="my-0">
                                </div>

                                <form class="needs-validation"  action="/user/order" method="POST" novalidate>

                                    <div class="card-body">
                                        

                                        <div class="mb-3">
                                            <label for="email">Email <span class="text-muted">(Optional)</span></label>
                                            <input type="email" class="form-control" id="email" value="you@example.com">
                                            <div class="invalid-feedback">
                                              Please enter a valid email address for shipping updates.
                                            </div>
                                          </div>
                                  
                                          <div class="mb-3">
                                            <label for="address">Address</label>
                                            <input type="text" class="form-control" name="address" value="1234 Main St" required>
                                            <div class="invalid-feedback">
                                              Please enter your shipping address.
                                            </div>
                                          </div>
                                  
                                          <div class="mb-3">
                                            <label for="city">City </label>
                                            <input type="text" class="form-control" name="city" placeholder="City" required>
                                          </div>


                                        <div class="row">
                                            <div class="col-md-5 mb-3">
                                              <label for="country">Country</label>
                                              <select class="custom-select d-block w-100" name="country" required>
                                                <option value="">Choose...</option>
                                                <option>United States</option>
                                              </select>
                                              <div class="invalid-feedback">
                                                Please select a valid country.
                                              </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                              <label for="state">State</label>
                                              <select class="custom-select d-block w-100" name="state" required>
                                                <option value="">Choose...</option>
                                                <option>California</option>
                                              </select>
                                              <div class="invalid-feedback">
                                                Please provide a valid state.
                                              </div>
                                            </div>
                                            <div class="col-md-3 mb-3">
                                              <label for="zip">Zip</label>
                                              <input type="text" class="form-control" name="zip" value="12345" required>
                                              <div class="invalid-feedback">
                                                Zip code required.
                                              </div>
                                            </div>
                                          </div>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="same-address">
                                            <label class="custom-control-label" for="same-address">Shipping address is the same as my billing address</label>
                                          </div>
                                          <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="save-info">
                                            <label class="custom-control-label" for="save-info">Save this information for next time</label>
                                          </div>
                                          <hr class="mb-4">
                                        <div class="row mt-4">
                                            <div class="col">
                                                <p class="text-muted mb-2">PAYMENT DETAILS</p>
                                                <hr class="mt-0">
                                            </div>
                                        </div>
                                        <label for="fname">Accepted Cards</label>
                                        <div class="icon-container">
                                          <i class="fa fa-cc-visa fa-2x" style="color:navy;"></i>
                                          <i class="fa fa-cc-amex fa-2x" style="color:blue;"></i>
                                          <i class="fa fa-cc-mastercard fa-2x" style="color:red;"></i>
                                          <i class="fa fa-cc-discover fa-2x" style="color:orange;"></i>
                                        </div>
                                        <div class="form-group"> <label for="nameoncard"
                                                class="small text-muted mb-1">NAME
                                                ON
                                                CARD</label> <input type="text" class="form-control form-control-sm"
                                                name="nameoncard" id="nameoncard" aria-describedby="helpId"
                                                placeholder="Customer Name" pattern="[A-Za-z]">
                                        </div>
                                        <div class="form-group"> <label for="cardnumber"
                                                class="small text-muted mb-1">CARD
                                                NUMBER</label> <input type="text" class="form-control form-control-sm"
                                                name="cardnumber" id="cardnumber" aria-describedby="helpId"
                                                placeholder="0000 0000 0000 0000"> </div>
                                        <div class="row no-gutters">
                                            <div class="col-sm-6 pr-sm-2">
                                                <div class="form-group"> <label for="validthrough"
                                                        class="small text-muted mb-1">VALID THROUGH</label> <input
                                                        type="text" class="form-control form-control-sm"
                                                        name="validthrough" id="validthrough" aria-describedby="helpId"
                                                        placeholder="00/00">
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group"> <label for="cvc"
                                                        class="small text-muted mb-1">CVC
                                                        CODE</label> <input type="text"
                                                        class="form-control form-control-sm" name="cvc" id="cvc"
                                                        aria-describedby="helpId" placeholder="xxx">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row mb-5 mt-4 ">
                                            <div class="col-md-7 col-lg-6 mx-auto"><button type="submit"
                                                    class="btn btn-block btn-primary btn-lg">Click to Purchase</button>
                                            </div>
                                        </div>

                                </form>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="card border-0 ">
                            <div class="card-header card-2">
                                <h4 class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="text-muted">Your cart</span>
                                    <span class="badge badge-secondary badge-pill" >  <%=cartListCount%></span>
                                  </h4>
                              
                            </div>
                            <% let totalPrice = 0%>
                            <% for(let product of products) {%>
                            
                       
                            <div class="card-body pt-0">
                                <div class="row justify-content-between">
                                    <div class="col-auto col-md-7">
                                        <div class="media flex-column flex-sm-row"> <img class=" img-fluid"
                                            src="data:image/*;base64,<%= product.productId.photo%>" alt="<%= product.title%>" width="62" height="62">
                                            <div class="media-body my-auto">
                                                <div class="row ">
                                                    <div class="col-auto">
                                                        <p class="mb-0"><b><%= product.productId.title%> </b></p><small
                                                            class="text-muted"><%= product.productId.title%></small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" pl-0 flex-sm-col col-auto my-auto">
                                        <p class="boxed-1"><%= product.quantity%></p>
                                    </div>
                                    <div class=" pl-0 flex-sm-col col-auto my-auto ">
                                        <p><b><%= product.productId.price%></b></p>
                                    </div>
                                </div>
                                <hr class="my-2">
                                <% totalPrice = totalPrice+(product.productId.price*product.quantity)%>
                                <% } %>
                                
                                <div class="row ">
                                    <div class="col">
                                        <div class="row justify-content-between">
                                            <div class="col-4">
                                                <p class="mb-1"><b>Subtotal</b></p>
                                            </div>
                                            <div class="flex-sm-col col-auto">
                                                <p class="mb-1"><b>$ <%= totalPrice%></b></p>
                                            </div>
                                        </div>
                                        <div class="row justify-content-between">
                                            <div class="col">
                                                <p class="mb-1"><b>Shipping</b></p>
                                            </div>
                                            <div class="flex-sm-col col-auto">
                                                <p class="mb-1"><b>Free!</b></p>
                                            </div>
                                        </div>
                                        <div class="row justify-content-between">
                                            <div class="col-4">
                                                <p><b>Total</b></p>
                                            </div>
                                            <div class="flex-sm-col col-auto">
                                                <p class="mb-1"><b>$ <%= totalPrice%></b></p>
                                            </div>
                                        </div>
                                        <hr class="my-0">
                                    </div>
                                </div>
                                <div class="row mb-5 mt-4 ">
                                    <div class="col-md-7 col-lg-6 mx-auto"><button type="button"
                                            class="btn btn-block btn-outline-primary btn-lg">ADD GIFT CODE</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>





</body>
<%- include('../layouts/footer.ejs') %>
</html>